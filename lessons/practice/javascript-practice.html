<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Practice - CodeLearn</title>
    <link rel="stylesheet" href="../../styles/lesson.css">
    <style>
        .practice-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .exercise {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .exercise h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
        }
        
        .exercise p {
            margin-bottom: 1rem;
        }
        
        .code-editor {
            background-color: #2d2d2d;
            color: #f8f8f2;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Courier New', Courier, monospace;
            overflow-x: auto;
        }
        
        .code-input {
            width: 100%;
            min-height: 100px;
            background-color: #2d2d2d;
            color: #f8f8f2;
            border: none;
            padding: 0.5rem;
            font-family: 'Courier New', Courier, monospace;
            resize: vertical;
        }
        
        .run-button {
            background-color: #27ae60;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 0.5rem;
            font-weight: bold;
        }
        
        .run-button:hover {
            background-color: #219653;
        }
        
        .output {
            margin-top: 1rem;
            padding: 1rem;
            background-color: #f4f4f4;
            border-radius: 4px;
            min-height: 50px;
        }
        
        .correct {
            color: #27ae60;
            font-weight: bold;
        }
        
        .incorrect {
            color: #e74c3c;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <h1><a href="../../index.html">CodeLearn</a></h1>
        </div>
        <nav>
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../index.html#courses">Courses</a></li>
                <li><a href="../../index.html#about">About</a></li>
            </ul>
        </nav>
    </header>

    <div class="lesson-container">
        <aside class="lesson-sidebar">
            <h3>JavaScript Basics</h3>
            <ul>
                <li><a href="../javascript-basics.html">Variables</a></li>
                <li><a href="#">Data Types</a></li>
                <li><a href="#">Operators</a></li>
                <li><a href="#">Conditionals</a></li>
                <li><a href="#">Loops</a></li>
                <li><a href="javascript-practice.html" class="practice-link">Practice Exercises</a></li>
            </ul>
        </aside>

        <main class="lesson-content">
            <h1>JavaScript Practice: Variables</h1>
            <p>Test your understanding of JavaScript variables with these practice exercises.</p>
            
            <div class="practice-container">
                <div class="exercise">
                    <h3>Exercise 1: Variable Declaration</h3>
                    <p>Declare a variable (var) named <code>greeting</code> and assign it the value "Hello, World!".</p>
                    <div class="code-editor">
                        <textarea class="code-input" id="code1">// Write your code here</textarea>
                        <button class="run-button" onclick="runCode(1)">Run Code</button>
                        <div class="output" id="output1"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <h3>Exercise 2: Number Variables</h3>
                    <p>Create two variables (var) <code>num1</code> and <code>num2</code> with values 5 and 10 respectively. Then create a third variable <code>sum</code> that contains the sum of <code>num1</code> and <code>num2</code>.</p>
                    <div class="code-editor">
                        <textarea class="code-input" id="code2">// Write your code here</textarea>
                        <button class="run-button" onclick="runCode(2)">Run Code</button>
                        <div class="output" id="output2"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <h3>Exercise 3: Constant Variable</h3>
                    <p>Create a constant (const) variable <code>TAX_RATE</code> with a value of 0.07. Then create a variable <code>price</code> with value 100 and calculate the total price including tax.</p>
                    <div class="code-editor">
                        <textarea class="code-input" id="code3">// Write your code here</textarea>
                        <button class="run-button" onclick="runCode(3)">Run Code</button>
                        <div class="output" id="output3"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <h3>Exercise 4: Variable Reassignment</h3>
                    <p>Declare a variable <code>counter</code> with an initial value of 0. Then increment its value by 1 three times.</p>
                    <div class="code-editor">
                        <textarea class="code-input" id="code4">// Write your code here</textarea>
                        <button class="run-button" onclick="runCode(4)">Run Code</button>
                        <div class="output" id="output4"></div>
                    </div>
                </div>
                
                <div class="exercise">
                    <h3>Exercise 5: Multiple Variables</h3>
                    <p>Create variables for a person's first name, last name, and age. Then create a variable <code>introduction</code> that combines these into a string like "John Doe is 30 years old."</p>
                    <div class="code-editor">
                        <textarea class="code-input" id="code5">// Write your code here</textarea>
                        <button class="run-button" onclick="runCode(5)">Run Code</button>
                        <div class="output" id="output5"></div>
                    </div>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <a href="../javascript-basics.html" class="nav-button prev-button">Back to Lesson</a>
                <a href="#" class="nav-button next-button">Next Lesson</a>
            </div>
        </main>
    </div>

    <footer>
        <p>&copy; 2025 CodeLearn by Reign. All rights reserved.</p>
    </footer>

    <script>
        function runCode(exerciseNum) {
            const code = document.getElementById(`code${exerciseNum}`).value;
            const outputElement = document.getElementById(`output${exerciseNum}`);
            
            try {
                // Capture console.log outputs
                let consoleOutput = [];
                const originalConsoleLog = console.log;
                console.log = function() {
                    consoleOutput.push(Array.from(arguments).join(' '));
                    originalConsoleLog.apply(console, arguments);
                };
                
                // Execute the code
                eval(code);
                
                // Restore console.log
                console.log = originalConsoleLog;
                
                // Check the results based on exercise number
                let result = "";
                let isCorrect = false;
                
                switch(exerciseNum) {
                    case 1:
                        try {
                            if (typeof greeting !== 'undefined' && greeting === "Hello, World!") {
                                result = "Correct! greeting = " + greeting;
                                isCorrect = true;
                            } else {
                                result = "Incorrect. Make sure you declare a variable named 'greeting' with the correct value.";
                            }
                        } catch (e) {
                            result = "Error: " + e.message;
                        }
                        break;
                        
                    case 2:
                        try {
                            if (typeof sum !== 'undefined' && sum === 15) {
                                result = "Correct! sum = " + sum;
                                isCorrect = true;
                            } else {
                                result = "Incorrect. Make sure you create variables num1=5, num2=10, and sum them correctly.";
                            }
                        } catch (e) {
                            result = "Error: " + e.message;
                        }
                        break;
                        
                    case 3:
                        try {
                            if (typeof TAX_RATE !== 'undefined' && TAX_RATE === 0.07) {
                                const expectedTotal = 100 * 1.07;
                                if (Math.abs(total - expectedTotal) < 0.01) {
                                    result = "Correct! Total price = " + total;
                                    isCorrect = true;
                                } else {
                                    result = "Incorrect calculation. The total should be " + expectedTotal;
                                }
                            } else {
                                result = "Make sure you declare TAX_RATE as a constant with value 0.07.";
                            }
                        } catch (e) {
                            result = "Error: " + e.message;
                        }
                        break;
                        
                    case 4:
                        try {
                            if (typeof counter !== 'undefined' && counter === 3) {
                                result = "Correct! counter = " + counter;
                                isCorrect = true;
                            } else {
                                result = "Incorrect. The counter should be incremented to 3.";
                            }
                        } catch (e) {
                            result = "Error: " + e.message;
                        }
                        break;
                        
                    case 5:
                        try {
                            if (typeof introduction !== 'undefined' && 
                                introduction.includes(firstName) && 
                                introduction.includes(lastName) && 
                                introduction.includes(age) &&
                                introduction.includes("years old")) {
                                result = "Correct! Introduction: " + introduction;
                                isCorrect = true;
                            } else {
                                result = "Incorrect. Make sure your introduction includes all the required information.";
                            }
                        } catch (e) {
                            result = "Error: " + e.message;
                        }
                        break;
                }
                
                // Display any console output
                if (consoleOutput.length > 0) {
                    result += "<br>Console output: " + consoleOutput.join("<br>");
                }
                
                outputElement.innerHTML = isCorrect 
                    ? `<span class="correct">✓ ${result}</span>` 
                    : `<span class="incorrect">✗ ${result}</span>`;
                
            } catch (error) {
                outputElement.innerHTML = `<span class="incorrect">Error: ${error.message}</span>`;
            }
        }
    </script>
</body>

</html>
